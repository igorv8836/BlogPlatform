comments_service {
    ktor {
        deployment {
            host = "127.0.0.1"
            port = 8081
        }
        jwt {
            issuer  = "https://auth.example.com/"
            audience = "comments-service"
            jwksUrl = "https://auth.example.com/.well-known/jwks.json"
            realm   = "blog-platform"
        }
        rabbitmq {
            uri = "amqp://guest:guest@localhost:5672"
            defaultConnectionName = "default_connection"
            dispatcherThreadPollSize = 4
            connectionAttempts = 10
            attemptDelay = 5
            tls {
                enabled = false
            }
            queue = "comments.queue"
            exchange = "comments.exchange"
        }
    }

    storage {
        driverClassName = "org.postgresql.Driver"
        jdbcURL = "jdbc:postgresql://localhost:5432/mydatabase"
        user = "user"
        password = "password"
    }
}

support_service {
    ktor {
        deployment {
            host = "127.0.0.1"
            port = 8082
        }
        jwt {
            issuer  = "https://auth.example.com/"
            audience = "support-service"
            jwksUrl = "https://auth.example.com/.well-known/jwks.json"
            realm   = "blog-platform"
        }
        rabbitmq {
            uri = "amqp://guest:guest@localhost:5672"
            defaultConnectionName = "default_connection"
            dispatcherThreadPollSize = 4
            connectionAttempts = 10
            attemptDelay = 5
            tls {
                enabled = false
            }
        }
    }

    storage {
        driverClassName = "org.postgresql.Driver"
        jdbcURL = "jdbc:postgresql://localhost:5433/mydatabase"
        user = "user"
        password = "password"
    }
}

user_service {
    ktor {
        deployment {
            host = "0.0.0.0"
            host = ${?USER_SERVICE_HOST}
            port = 8082
            port = ${?USER_SERVICE_PORT}
        }
        jwt {
            issuer  = "https://auth.example.com/"
            audience = "user-service"
            jwksUrl = "https://auth.example.com/.well-known/jwks.json"
            realm   = "blog-platform"
        }
        rabbitmq {
            uri = "amqp://guest:guest@localhost:5672"
            uri = ${?USER_SERVICE_RABBIT_URI}
            defaultConnectionName = "default_connection"
            dispatcherThreadPollSize = 4
            connectionAttempts = 10
            attemptDelay = 5
            tls {
                enabled = false
            }
            queue = "user.queue"
            queue = ${?USER_SERVICE_RABBIT_QUEUE}
            exchange = "user.exchange"
            exchange = ${?USER_SERVICE_RABBIT_EXCHANGE}
        }
    }

    storage {
        driverClassName = "org.postgresql.Driver"
        jdbcURL = "jdbc:postgresql://localhost:5433/mydatabase"
        jdbcURL = ${?USER_SERVICE_JDBC_URL}
        user = "user"
        user = ${?USER_SERVICE_DB_USER}
        password = "password"
        password = ${?USER_SERVICE_DB_PASSWORD}
    }
}
